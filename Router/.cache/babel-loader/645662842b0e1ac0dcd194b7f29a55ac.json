{"ast":null,"code":"import axios from 'axios';\nimport { useState } from 'react';\nimport ShoppingItemModel from '../models/ShoppingItemModel';\nimport firebase from \"../utils/FirebaseConfig\";\nlet fireStoreDb = firebase.firestore();\nconst weatherApiKey = \"586508fb2989d9e659ae350d284cee51\";\n/**\n * Return List of israeli cities from json file - this is mostly for demonstrate reading from json file \n * @param {*} setCityNameArr \n */\n\nexport const getCityList = setCityNameArr => {\n  axios.get('israel_city_list.json').then(response => {\n    setCityNameArr(response.data.map(item => {\n      return item.hebrew_name;\n    }));\n  });\n};\n/**\n * Return shopping list from Firestore db\n * @param {*} updateShoppingList \n */\n\nexport const getShoppingList = updateShoppingList => {\n  const tempShoppingItems = [];\n  fireStoreDb.collection(\"shopping-list\").get().then(querySnapshot => {\n    querySnapshot.forEach(doc => {\n      tempShoppingItems.push(new ShoppingItemModel(doc.data().itemName, doc.data().itemBrand, doc.data().itemQuantity, doc.data().inCart));\n    });\n    updateShoppingList(tempShoppingItems);\n  }).catch(error => {\n    console.error(\"Error getting document: \", error);\n  });\n};\n/**\n * Will create entry in Firestore db with ID\n *  The ID Scheme is : name + brand-name \n * @param {*} shoppingItem \n */\n\nexport const addShoppingItemToFireStore = shoppingItem => {\n  fireStoreDb.collection(\"shopping-list\").doc(shoppingItem.itemName + \"_\" + shoppingItem.itemBrand).set({\n    itemName: shoppingItem.itemName,\n    itemBrand: shoppingItem.itemBrand,\n    itemQuantity: shoppingItem.itemQuantity,\n    inCart: false\n  });\n};\n/**\n * Will create entry in Firestore db with random id\n * @param {*} shoppingItem \n */\n\nexport const saveShoppingItem = shoppingItem => {\n  fireStoreDb.collection(\"shopping-list\").add({\n    itemName: shoppingItem.itemName,\n    itemBrand: shoppingItem.itemBrand,\n    itemQuantity: shoppingItem.itemQuantity,\n    inCart: false\n  }).then(docRef => {\n    //TODO: implement\n    console.log(\"Document written with ID: \", docRef.id);\n  }).catch(error => {\n    console.error(\"Error adding document: \", error);\n  });\n};\nexport const saveCheckBoxState = (name, brand, checkBoxStatus) => {\n  fireStoreDb.collection(\"shopping-list\").doc(name + \"_\" + brand).update({\n    \"inCart\": checkBoxStatus\n  }).catch(error => {\n    console.error(\"Error updating document: \", error);\n  });\n};\nexport const getCurrentWeatherByCityName = () => {\n  const cityName = \"תל אביב\";\n  axios.get(`http://api.openweathermap.org/data/2.5/weather?lat=34.8&lon=32.0833&appid=586508fb2989d9e659ae350d284cee51`).then(res => {\n    console.log(\"Success getCurrentWeatherByCityName : \" + res);\n  }).catch(error => {\n    console.log(\"Error getCurrentWeatherByCityName : \" + error);\n  });\n};","map":{"version":3,"sources":["/Users/gal/Dev/AppleSeeds/FinalProject/toolbox_app/src/utils/HelperFunctions.js"],"names":["axios","useState","ShoppingItemModel","firebase","fireStoreDb","firestore","weatherApiKey","getCityList","setCityNameArr","get","then","response","data","map","item","hebrew_name","getShoppingList","updateShoppingList","tempShoppingItems","collection","querySnapshot","forEach","doc","push","itemName","itemBrand","itemQuantity","inCart","catch","error","console","addShoppingItemToFireStore","shoppingItem","set","saveShoppingItem","add","docRef","log","id","saveCheckBoxState","name","brand","checkBoxStatus","update","getCurrentWeatherByCityName","cityName","res"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\nimport ShoppingItemModel from '../models/ShoppingItemModel';\n\nimport firebase from \"../utils/FirebaseConfig\";\n\nlet fireStoreDb = firebase.firestore();\nconst weatherApiKey = \"586508fb2989d9e659ae350d284cee51\";\n\n\n\n/**\n * Return List of israeli cities from json file - this is mostly for demonstrate reading from json file \n * @param {*} setCityNameArr \n */\nexport const getCityList =(setCityNameArr)=>{\n    axios.get('israel_city_list.json').then(response=>{\n        setCityNameArr(response.data.map((item)=>{\n            return item.hebrew_name;\n        }));\n    })\n}\n\n/**\n * Return shopping list from Firestore db\n * @param {*} updateShoppingList \n */\nexport const getShoppingList= (updateShoppingList)=>{\n    const tempShoppingItems = [];\n    fireStoreDb.collection(\"shopping-list\").get().then( \n     (querySnapshot)=>{\n            querySnapshot.forEach(doc => {                \n                tempShoppingItems.push( new ShoppingItemModel(doc.data().itemName, doc.data().itemBrand , doc.data().itemQuantity , doc.data().inCart ));\n            });\n            updateShoppingList(tempShoppingItems);\n        }).catch( (error)=>{\n            console.error(\"Error getting document: \", error);\n    });\n}\n\n/**\n * Will create entry in Firestore db with ID\n *  The ID Scheme is : name + brand-name \n * @param {*} shoppingItem \n */\nexport const addShoppingItemToFireStore = (shoppingItem)=>{\n    fireStoreDb.collection(\"shopping-list\").doc(shoppingItem.itemName + \"_\" + shoppingItem.itemBrand).set({\n        itemName: shoppingItem.itemName,\n        itemBrand: shoppingItem.itemBrand,\n        itemQuantity: shoppingItem.itemQuantity,\n        inCart:false\n    });\n}\n\n\n/**\n * Will create entry in Firestore db with random id\n * @param {*} shoppingItem \n */\nexport const saveShoppingItem= (shoppingItem)=>{\n    fireStoreDb.collection(\"shopping-list\").add({\n        itemName: shoppingItem.itemName,\n        itemBrand: shoppingItem.itemBrand,\n        itemQuantity: shoppingItem.itemQuantity,\n        inCart:false\n    })\n    .then((docRef) => {\n        //TODO: implement\n        console.log(\"Document written with ID: \", docRef.id);\n    })\n    .catch((error) => {\n        console.error(\"Error adding document: \", error);\n    });\n}\n\nexport const saveCheckBoxState= ( name , brand,   checkBoxStatus)=>{\n    fireStoreDb.collection(\"shopping-list\").doc(name + \"_\" + brand).update({\n        \"inCart\" : checkBoxStatus\n    })\n    .catch((error) => {\n        console.error(\"Error updating document: \", error);\n    });\n}\n\nexport const getCurrentWeatherByCityName = ()=>{\n    const cityName = \"תל אביב\";\n    axios.get(`http://api.openweathermap.org/data/2.5/weather?lat=34.8&lon=32.0833&appid=586508fb2989d9e659ae350d284cee51`).then((res)=>{\n        console.log(\"Success getCurrentWeatherByCityName : \" + res);\n\n    }).catch((error)=>{\n        console.log(\"Error getCurrentWeatherByCityName : \" + error);\n    });\n    \n}"]},"metadata":{},"sourceType":"module"}